<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Royal Casino ‚Äî –ì–ª–∞–≤–Ω–∞—è</title>
  <style>
    body {
      margin: 0;
      background: 
        radial-gradient(circle at 20% 30%, rgba(255,215,0,0.08), transparent 30%),
        radial-gradient(circle at 80% 70%, rgba(255,215,0,0.08), transparent 30%),
        linear-gradient(135deg, #0f0c29, #302b63);
      color: #f0f0f0;
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background: rgba(15, 12, 41, 0.9);
      border: 2px solid #d4af37;
      border-radius: 20px;
      padding: 25px;
      box-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
    }
    h1 {
      text-align: center;
      color: #ffd700;
      margin-bottom: 15px;
    }
    .balance, .boost-status {
      text-align: center;
      font-size: 1.3em;
      margin: 12px 0;
    }
    .boost-active { color: #8ac926; }
    .boost-inactive { color: #ff6b6b; }

    .nav {
      text-align: center;
      margin: 20px 0;
    }
    .nav a {
      background: #4d869c;
      color: white;
      text-decoration: none;
      padding: 10px 15px;
      margin: 0 8px;
      border-radius: 6px;
      display: inline-block;
    }
    .nav a.active {
      background: #d4af37;
      color: #000;
    }

    .inputs {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    .inputs input {
      width: 100px;
      padding: 10px;
      text-align: center;
      border: 1px solid #d4af37;
      border-radius: 6px;
      background: #1a1a2e;
      color: white;
    }
    .wheel {
      width: 180px;
      height: 180px;
      margin: 20px auto;
      background: #1a1a2e;
      border: 4px solid #d4af37;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5em;
      color: #ffd700;
      font-weight: bold;
    }
    .controls {
      text-align: center;
      margin: 20px 0;
    }
    .bet-input {
      padding: 10px;
      width: 120px;
      text-align: center;
      border: 1px solid #d4af37;
      border-radius: 6px;
      background: #1a1a2e;
      color: white;
      margin: 0 15px;
    }
    .btn {
      padding: 10px 20px;
      margin: 0 8px;
      border: none;
      border-radius: 6px;
      background: #d4af37;
      color: #000;
      font-weight: bold;
      cursor: pointer;
    }
    .result {
      margin: 20px 0;
      padding: 12px;
      text-align: center;
      border-radius: 8px;
    }
    .win { background: rgba(138, 201, 38, 0.3); }
    .lose { background: rgba(217, 4, 41, 0.3); }

    .users-list {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #4d869c;
    }
    .users-list h3 {
      text-align: center;
      color: gold;
    }

    .error {
      background: rgba(217, 4, 41, 0.3);
      padding: 10px;
      border-radius: 6px;
      text-align: center;
      margin: 15px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üé∞ Royal Casino</h1>

    {% if error %}
      <div class="error">{{ error }}</div>
    {% endif %}

    <div class="balance">üí∞ –ë–∞–ª–∞–Ω—Å: {{ balance }} –º–æ–Ω–µ—Ç</div>
    <div class="boost-status">
      –£–≤–µ–ª–∏—á–µ–Ω–∏–µ —à–∞–Ω—Å–∞: 
      <span class="{% if boost_count > 0 %}boost-active{% else %}boost-inactive{% endif %}">
        {% if boost_count > 0 %}–î–æ—Å—Ç—É–ø–Ω–æ ({{ boost_count }}){% else %}–ù–µ—Ç{% endif %}
      </span>
    </div>
    <div class="boost-status">
      –£–¥–≤–æ–µ–Ω–∏–µ –≤—ã–∏–≥—Ä—ã—à–∞: 
      <span class="{% if double_count > 0 %}boost-active{% else %}boost-inactive{% endif %}">
        {% if double_count > 0 %}–î–æ—Å—Ç—É–ø–Ω–æ ({{ double_count }}){% else %}–ù–µ—Ç{% endif %}
      </span>
    </div>
    <div class="boost-status">
      –î–æ–ø. –∂–∏–∑–Ω—å: 
      <span class="{% if extra_life_count > 0 %}boost-active{% else %}boost-inactive{% endif %}">
        {% if extra_life_count > 0 %}–î–æ—Å—Ç—É–ø–Ω–æ ({{ extra_life_count }}){% else %}–ù–µ—Ç{% endif %}
      </span>
    </div>
    <div class="boost-status">
      –ü—Ä–µ–º–∏—è 1000: 
      <span class="{% if thousand_bonus_count > 0 %}boost-active{% else %}boost-inactive{% endif %}">
        {% if thousand_bonus_count > 0 %}–î–æ—Å—Ç—É–ø–Ω–æ ({{ thousand_bonus_count }}){% else %}–ù–µ—Ç{% endif %}
      </span>
    </div>

    <div class="nav">
      <a href="/" class="active">–ò–≥—Ä–∞</a>
      <a href="/shop">–ú–∞–≥–∞–∑–∏–Ω</a>
      <a href="/profile">–ü—Ä–æ—Ñ–∏–ª—å</a>
      <a href="/logout">–í—ã–π—Ç–∏</a>
    </div>

    {% if last_play %}
      <div class="wheel">{{ last_play.number }}</div>
      <div class="result {% if last_play.win > 0 %}win{% else %}lose{% endif %}">
        {% if last_play.win > 0 %}
          üéâ –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ {{ last_play.win }} –º–æ–Ω–µ—Ç!
        {% else %}
          üòû –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ {{ last_play.bet }} –º–æ–Ω–µ—Ç.
        {% endif %}
      </div>
    {% else %}
      <div class="wheel">?</div>
    {% endif %}

    <form method="POST" action="/play" class="controls">
      <div class="inputs">
        <input type="number" name="from" min="1" max="100" value="1" required>
        <input type="number" name="to" min="1" max="100" value="50" required>
      </div>
      <label>–°—Ç–∞–≤–∫–∞: <input type="number" name="bet" class="bet-input" min="1" value="10" required></label>
      <br><br>

      {% if boost_count > 0 %}
        <label><input type="checkbox" name="use_boost" value="1"> –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ¬´–£–≤–µ–ª–∏—á–µ–Ω–∏–µ —à–∞–Ω—Å–∞¬ª</label><br>
      {% endif %}
      {% if double_count > 0 %}
        <label><input type="checkbox" name="use_double" value="1"> –£–¥–≤–æ–∏—Ç—å –≤—ã–∏–≥—Ä—ã—à</label><br>
      {% endif %}
      {% if extra_life_count > 0 %}
        <label><input type="checkbox" name="use_extra_life" value="1"> –î–æ–ø. –∂–∏–∑–Ω—å (+100 –ø—Ä–∏ –ø—Ä–æ–∏–≥—Ä—ã—à–µ)</label><br>
      {% endif %}
      {% if thousand_bonus_count > 0 %}
        <label><input type="checkbox" name="use_thousand_bonus" value="1"> +1000 –ø—Ä–∏ –≤—ã–∏–≥—Ä—ã—à–µ</label><br>
      {% endif %}

      <br><br>
      <button class="btn" type="submit">–ö—Ä—É—Ç–∏—Ç—å –±–∞—Ä–∞–±–∞–Ω</button>
    </form>

    <div class="users-list">
      <h3>–°–æ–∑–¥–∞—Ç–µ–ª—å –∫–∞–∑–∏–Ω–æ: <span style="color:gold;">{{ creator }}</span></h3>
    </div>
  </div>
</body>
</html>